# 🔄 Albumizr 遷移功能說明

## 功能概述

這個功能允許用戶將 Albumizr 網站上的相簿快速遷移到本網站，無需手動下載和重新上傳圖片。

## 主要特性

### ✅ 自動提取圖片
- 從 Albumizr 分享連結中自動提取所有圖片
- 支持多種圖片格式（JPG、PNG、GIF、WebP）
- 智能解析頁面內容，確保提取所有相簿圖片

### 👤 用戶權限管理
- **匿名用戶**：一次只能轉換一個相簿
- **登入用戶**：可以批次轉換多個相簿

### 📊 即時進度追蹤
- 實時顯示遷移進度條
- 詳細的操作日誌，包含每個步驟的狀態
- 成功/失敗統計

### 🎨 美觀的 UI 設計
- 與網站整體風格一致的界面
- 清晰的狀態提示（成功/錯誤/警告/信息）
- 響應式設計，支持移動設備

## 使用方法

### 單個相簿遷移（匿名 & 登入用戶）

1. **獲取 Albumizr 連結**
   - 訪問 Albumizr 相簿頁面
   - 複製瀏覽器地址欄中的 URL
   - 例如：`https://albumizr.com/skins/bandana/index.php?key=0Gnc`

2. **開始遷移**
   - 將連結貼到「Albumizr 連結」輸入框中
   - 點擊「開始遷移」按鈕
   - 等待遷移完成

3. **查看結果**
   - 遷移完成後，新相簿會自動出現在「我的相簿」列表中
   - 可以立即編輯相簿名稱和圖片說明

### 批次遷移（僅限登入用戶）

1. **登入帳號**
   - 點擊右上角的「登入」按鈕
   - 使用 Magic Link 或 Google 帳號登入

2. **輸入多個連結**
   - 在「Albumizr 連結」輸入框中輸入多個連結
   - **每行一個連結**
   - 例如：
     ```
     https://albumizr.com/skins/bandana/index.php?key=0Gnc
     https://albumizr.com/skins/bandana/index.php?key=Abc123
     https://albumizr.com/skins/bandana/index.php?key=Xyz789
     ```

3. **開始批次遷移**
   - 點擊「開始遷移」按鈕
   - 系統會依序處理每個相簿
   - 進度條顯示整體進度

4. **查看所有遷移的相簿**
   - 所有遷移的相簿都會出現在「我的相簿」列表中
   - 每個相簿會自動命名為「Albumizr 遷移 - [key]」

## 技術細節

### CORS 處理
- 使用 `corsproxy.io` 代理服務來繞過跨域限制
- 確保能夠成功獲取 Albumizr 頁面內容和圖片

### 圖片處理
- 自動優化圖片大小（最大 1600px）
- 保留 PNG 格式的透明度
- JPEG 壓縮質量設定為 85%

### 錯誤處理
- 詳細的錯誤提示
- 單張圖片失敗不影響其他圖片的遷移
- 失敗的項目會在日誌中標記

### 數據安全
- 所有圖片上傳到用戶自己的 Supabase 存儲空間
- 登入用戶的相簿與帳號綁定
- 匿名用戶的相簿無需登入即可創建

## 常見問題

### Q: 遷移需要多長時間？
A: 取決於相簿中的圖片數量和網絡速度。一般來說，每張圖片需要 2-5 秒。

### Q: 可以遷移多大的相簿？
A: 沒有固定限制，但建議單個相簿不超過 50 張圖片以確保最佳體驗。

### Q: 遷移失敗了怎麼辦？
A: 查看日誌中的錯誤信息，確認 Albumizr 連結是否正確。可以嘗試重新遷移。

### Q: 遷移後的相簿可以編輯嗎？
A: 可以！遷移後的相簿與手動創建的相簿完全相同，可以：
- 修改相簿名稱
- 添加/刪除圖片
- 編輯圖片說明
- 調整圖片順序

### Q: 匿名用戶遷移的相簿可以保存嗎？
A: 匿名相簿可以生成分享連結，但無法在帳號中管理。建議登入後再遷移，以便長期管理相簿。

## 注意事項

⚠️ **重要提醒**
- 確保你有權遷移該相簿的圖片
- 遷移過程中請勿關閉頁面
- 建議在網絡穩定的環境下進行遷移
- 大量相簿遷移建議分批進行

## 未來改進計劃

- [ ] 支持更多相簿服務（如 Imgur、Flickr 等）
- [ ] 添加遷移歷史記錄
- [ ] 支持斷點續傳
- [ ] 提供遷移前的預覽功能
- [ ] 優化批次遷移速度

## 技術支持

如果遇到問題或有建議，歡迎透過以下方式聯繫：
- 在 GitHub 上提交 Issue
- 發送電子郵件至支持團隊

---

**享受便捷的相簿遷移體驗！** 🎉
